

# Spring Cloud
## 1、从面试题开始
### 1. 什么是微服务？
```
微服务的核心就是将传统的一站式应用，根据业务拆分成一个一个的服务，彻底的去耦合，每一个微服务提供单个业务功能的服务，一个服务做一件事，从技术角度看就是一种小而独立的处理过程，类似进程概念，能够自行单独启动或销毁，拥有自己独立的数据库。
微服务强调的是服务的大小，它关注的是某一个点，是具体解决某一个问题/提供落地对应服务的一个服务应用，狭义的看，可以看作Eclipse里面的一个个微服务工程/或者Module。
```

### 2.  微服务之间是如何独立通讯的？

### 3. SpringCloud和Dubbo有哪些区别？

**最大区别：SpringCloud抛弃了Dubbo的RPC通信，采用的是基于HTTP的REST方式。**

严格来说，这两种方式各有优劣。虽然从一定程度上来说，后者牺牲了服务调用的性能，但也避免了上面踢到的原生RPC带来的问题。而且REST相比RPC更为灵活，服务提供方和调用方的依赖只一开一纸契约，不存在代码级别的强依赖，这在强调快速演化的微服务环境下，显得更加合适。

### 4. SpringBoot和SpringCloud，对他们的理解？

-   SpirngBoot

```
微观：专注于快速方便的开发单个个体微服务。
依赖关系：SpringBoot可以离开SpirngCloud独立使用开发项目，但是SpringCloud离不开SpirngBoot，属于依赖的关系。
```

-   SpirngCloud

```
宏观：关注全局的微服务协调整理治理框架，它将SpirngBoot开发的一个个单体微服务整合并管理起来。
依赖关系：必然依赖SpirngBoot
```

**总结：SpringBoot专注于快速、方便的开发单个微服务个体，SpirngCloud关注全局的服务治理框架**

### 5. 什么是服务熔断？什么是服务降级？

### 6. 微服务的优缺点分别是什么？常见的坑有哪些？
- 优点
```
每个服务足够内聚，足够小，代码容易理解这样能聚集一个指定的业务功能或业务需求；
开发简单、开发效率提高，一个服务可能就是专一的只干一件事；
微服务能够被小团队单独开发，这个小团队是2到5人的开发人员组成；
微服务是松耦合的，是有功能意义的服务，无论是在开发阶段或部署阶段都是独立的。
微服务能使用不同的语言开发；
易于和第三方集成，微服务允许容易且灵活的方式集成自动部署，通过持续集成工具，如Jenkins，Hudson，bamboo；
微服务允许你利用融合最新技术；
**微服务知识业务逻辑的代码，不会和html, css或其他界面组件混合。**
**每个微服务都有自己的存储能力，可以有自己的数据库。也可以有统一数据库。**
```
- 缺点
```
开发人员要处理分布式系统的复杂性
多服务运维难度，随着服务的增加，运维的压力也在增大
系统部署依赖
服务件通信成本
数据一致性
系统集成测试
性能监控......
```

### 7. 微服务技术栈有哪些？

- 微服务技术栈：多种技术的集合体
  | 微服务条目                | 维度   | 落地技术                                     | E时代下的数字化生活 |
  | :------------------- | ---- | :--------------------------------------- | ---------- |
  | 服务开发                 |      | SpringBoot、Spring、SpringMVC              | 手机         |
  | 服务配置与管理              |      | Netflix公司的Archaius、阿里的Diamond等           |            |
  | 服务注册与发现              |      | Eureka、Consul、Zookeeper等                 | 电脑         |
  | 服务调用                 |      | Rest、RPC、gRPC                            | 路由器        |
  | 服务熔断器                |      | Hystrix、Envoy等                           | 充电宝        |
  | 负载均衡                 |      | Ribbon、Nginx等                            |            |
  | 服务接口调用（客户端调用服务的简化工具） |      | Feign等                                   |            |
  | 消息队列                 |      | Kafka、RabbitMQ、ActiveMQ等                 |            |
  | 服务配置中心管理             |      | SpringCloudConfig、Chef等                  |            |
  | 服务路由（API网关）          |      | Zuul等                                    |            |
  | 服务监控                 |      | Zabbix、Nagios、Metrics、Spectator等         |            |
  | 全链路追踪                |      | Zipkin、Brave、Dapper等                     |            |
  | 服务部署                 |      | Docker、OpenStack、Kubernetes等             |            |
  | 数据流操作开发包             |      | SpringCloud Stream（封装与Redis、Rabbit、Kafka等发送接收消息） |            |
  | 事件消息总线               |      | SpringCloud Bus                          |            |
  | ...                  |      |                                          |            |

### 8. eureka和zookeeper都可以提供服务注册与发现的功能，他们的区别是什么？

## 2、微服务概述

## 3、SpringCloud入门概述

![](http://ww1.sinaimg.cn/large/005PjuVtgy1fqqkuxnkwaj30sf0oc0uc.jpg)
SpringCloud，基于SpringBoot提供了一整套微服务解决方案，包括服务注册与发现，配置中心，全链路监控，服务网管，负载均衡，熔断器等组件，除了基于NetFlix的开源组件做高度抽象封装之外，还有一些选型中立的开源组件。

SpringCloud利用SpringBoot的开发便利性巧妙的建华路分布式系统基础设置的开发，SpringCloud为开发人员提供了快速构建分布式系统的一些工具，**包括配置管理、服务发现、断路器、路由、微代理、事件总线、全局锁、决策竞选、分布式会话等等**它们都可以用SpringBoot的开发风格做到一键启动和部署。

SpringBoot并没有重复造轮子，它知识将目前各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过SpirngBoot风格进行再封装屏蔽掉了复杂的配置和实现原理，**最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包**

**总结：SpirngCloud是分布式微服务架构下的一站式解决方案，是各个微服务架构落地技术的集合体，俗称微服务全家桶**

## 4、Rest为服务构建案例工程模块

## 5、Eureka服务注册与发现

## 6、Ribbon负载均衡

## 7、Feign负载均衡

## 8、Hystrix断路器

## 9、zuul路由网关

## 10、SpringCloud Config分布式配置中心

